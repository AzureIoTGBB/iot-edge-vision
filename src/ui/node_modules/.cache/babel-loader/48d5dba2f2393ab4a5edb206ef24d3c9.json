{"ast":null,"code":"'use strict';\n\nvar React = require('react'),\n    createClass = require('create-react-class'),\n    assign = require('object-assign');\n\nvar DateTimePickerTime = createClass({\n  getInitialState: function () {\n    return this.calculateState(this.props);\n  },\n  calculateState: function (props) {\n    var date = props.selectedDate || props.viewDate,\n        format = props.timeFormat,\n        counters = [];\n\n    if (format.toLowerCase().indexOf('h') !== -1) {\n      counters.push('hours');\n\n      if (format.indexOf('m') !== -1) {\n        counters.push('minutes');\n\n        if (format.indexOf('s') !== -1) {\n          counters.push('seconds');\n        }\n      }\n    }\n\n    var hours = date.format('H');\n    var daypart = false;\n\n    if (this.state !== null && this.props.timeFormat.toLowerCase().indexOf(' a') !== -1) {\n      if (this.props.timeFormat.indexOf(' A') !== -1) {\n        daypart = hours >= 12 ? 'PM' : 'AM';\n      } else {\n        daypart = hours >= 12 ? 'pm' : 'am';\n      }\n    }\n\n    return {\n      hours: hours,\n      minutes: date.format('mm'),\n      seconds: date.format('ss'),\n      milliseconds: date.format('SSS'),\n      daypart: daypart,\n      counters: counters\n    };\n  },\n  renderCounter: function (type) {\n    if (type !== 'daypart') {\n      var value = this.state[type];\n\n      if (type === 'hours' && this.props.timeFormat.toLowerCase().indexOf(' a') !== -1) {\n        value = (value - 1) % 12 + 1;\n\n        if (value === 0) {\n          value = 12;\n        }\n      }\n\n      return React.createElement('div', {\n        key: type,\n        className: 'rdtCounter'\n      }, [React.createElement('span', {\n        key: 'up',\n        className: 'rdtBtn',\n        onMouseDown: this.onStartClicking('increase', type),\n        onContextMenu: this.disableContextMenu\n      }, '▲'), React.createElement('div', {\n        key: 'c',\n        className: 'rdtCount'\n      }, value), React.createElement('span', {\n        key: 'do',\n        className: 'rdtBtn',\n        onMouseDown: this.onStartClicking('decrease', type),\n        onContextMenu: this.disableContextMenu\n      }, '▼')]);\n    }\n\n    return '';\n  },\n  renderDayPart: function () {\n    return React.createElement('div', {\n      key: 'dayPart',\n      className: 'rdtCounter'\n    }, [React.createElement('span', {\n      key: 'up',\n      className: 'rdtBtn',\n      onMouseDown: this.onStartClicking('toggleDayPart', 'hours'),\n      onContextMenu: this.disableContextMenu\n    }, '▲'), React.createElement('div', {\n      key: this.state.daypart,\n      className: 'rdtCount'\n    }, this.state.daypart), React.createElement('span', {\n      key: 'do',\n      className: 'rdtBtn',\n      onMouseDown: this.onStartClicking('toggleDayPart', 'hours'),\n      onContextMenu: this.disableContextMenu\n    }, '▼')]);\n  },\n  render: function () {\n    var me = this,\n        counters = [];\n    this.state.counters.forEach(function (c) {\n      if (counters.length) counters.push(React.createElement('div', {\n        key: 'sep' + counters.length,\n        className: 'rdtCounterSeparator'\n      }, ':'));\n      counters.push(me.renderCounter(c));\n    });\n\n    if (this.state.daypart !== false) {\n      counters.push(me.renderDayPart());\n    }\n\n    if (this.state.counters.length === 3 && this.props.timeFormat.indexOf('S') !== -1) {\n      counters.push(React.createElement('div', {\n        className: 'rdtCounterSeparator',\n        key: 'sep5'\n      }, ':'));\n      counters.push(React.createElement('div', {\n        className: 'rdtCounter rdtMilli',\n        key: 'm'\n      }, React.createElement('input', {\n        value: this.state.milliseconds,\n        type: 'text',\n        onChange: this.updateMilli\n      })));\n    }\n\n    return React.createElement('div', {\n      className: 'rdtTime'\n    }, React.createElement('table', {}, [this.renderHeader(), React.createElement('tbody', {\n      key: 'b'\n    }, React.createElement('tr', {}, React.createElement('td', {}, React.createElement('div', {\n      className: 'rdtCounters'\n    }, counters))))]));\n  },\n  componentWillMount: function () {\n    var me = this;\n    me.timeConstraints = {\n      hours: {\n        min: 0,\n        max: 23,\n        step: 1\n      },\n      minutes: {\n        min: 0,\n        max: 59,\n        step: 1\n      },\n      seconds: {\n        min: 0,\n        max: 59,\n        step: 1\n      },\n      milliseconds: {\n        min: 0,\n        max: 999,\n        step: 1\n      }\n    };\n    ['hours', 'minutes', 'seconds', 'milliseconds'].forEach(function (type) {\n      assign(me.timeConstraints[type], me.props.timeConstraints[type]);\n    });\n    this.setState(this.calculateState(this.props));\n  },\n  componentWillReceiveProps: function (nextProps) {\n    this.setState(this.calculateState(nextProps));\n  },\n  updateMilli: function (e) {\n    var milli = parseInt(e.target.value, 10);\n\n    if (milli === e.target.value && milli >= 0 && milli < 1000) {\n      this.props.setTime('milliseconds', milli);\n      this.setState({\n        milliseconds: milli\n      });\n    }\n  },\n  renderHeader: function () {\n    if (!this.props.dateFormat) return null;\n    var date = this.props.selectedDate || this.props.viewDate;\n    return React.createElement('thead', {\n      key: 'h'\n    }, React.createElement('tr', {}, React.createElement('th', {\n      className: 'rdtSwitch',\n      colSpan: 4,\n      onClick: this.props.showView('days')\n    }, date.format(this.props.dateFormat))));\n  },\n  onStartClicking: function (action, type) {\n    var me = this;\n    return function () {\n      var update = {};\n      update[type] = me[action](type);\n      me.setState(update);\n      me.timer = setTimeout(function () {\n        me.increaseTimer = setInterval(function () {\n          update[type] = me[action](type);\n          me.setState(update);\n        }, 70);\n      }, 500);\n\n      me.mouseUpListener = function () {\n        clearTimeout(me.timer);\n        clearInterval(me.increaseTimer);\n        me.props.setTime(type, me.state[type]);\n        document.body.removeEventListener('mouseup', me.mouseUpListener);\n        document.body.removeEventListener('touchend', me.mouseUpListener);\n      };\n\n      document.body.addEventListener('mouseup', me.mouseUpListener);\n      document.body.addEventListener('touchend', me.mouseUpListener);\n    };\n  },\n  disableContextMenu: function (event) {\n    event.preventDefault();\n    return false;\n  },\n  padValues: {\n    hours: 1,\n    minutes: 2,\n    seconds: 2,\n    milliseconds: 3\n  },\n  toggleDayPart: function (type) {\n    // type is always 'hours'\n    var value = parseInt(this.state[type], 10) + 12;\n    if (value > this.timeConstraints[type].max) value = this.timeConstraints[type].min + (value - (this.timeConstraints[type].max + 1));\n    return this.pad(type, value);\n  },\n  increase: function (type) {\n    var value = parseInt(this.state[type], 10) + this.timeConstraints[type].step;\n    if (value > this.timeConstraints[type].max) value = this.timeConstraints[type].min + (value - (this.timeConstraints[type].max + 1));\n    return this.pad(type, value);\n  },\n  decrease: function (type) {\n    var value = parseInt(this.state[type], 10) - this.timeConstraints[type].step;\n    if (value < this.timeConstraints[type].min) value = this.timeConstraints[type].max + 1 - (this.timeConstraints[type].min - value);\n    return this.pad(type, value);\n  },\n  pad: function (type, value) {\n    var str = value + '';\n\n    while (str.length < this.padValues[type]) str = '0' + str;\n\n    return str;\n  }\n});\nmodule.exports = DateTimePickerTime;","map":{"version":3,"sources":["/Users/jennychen/Documents/Github/vision-dashboard/node_modules/react-datetime/src/TimeView.js"],"names":["React","require","createClass","assign","DateTimePickerTime","getInitialState","calculateState","props","date","selectedDate","viewDate","format","timeFormat","counters","toLowerCase","indexOf","push","hours","daypart","state","minutes","seconds","milliseconds","renderCounter","type","value","createElement","key","className","onMouseDown","onStartClicking","onContextMenu","disableContextMenu","renderDayPart","render","me","forEach","c","length","onChange","updateMilli","renderHeader","componentWillMount","timeConstraints","min","max","step","setState","componentWillReceiveProps","nextProps","e","milli","parseInt","target","setTime","dateFormat","colSpan","onClick","showView","action","update","timer","setTimeout","increaseTimer","setInterval","mouseUpListener","clearTimeout","clearInterval","document","body","removeEventListener","addEventListener","event","preventDefault","padValues","toggleDayPart","pad","increase","decrease","str","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React = require('react'),\n\tcreateClass = require('create-react-class'),\n\tassign = require('object-assign')\n\t;\n\nvar DateTimePickerTime = createClass({\n\tgetInitialState: function() {\n\t\treturn this.calculateState( this.props );\n\t},\n\n\tcalculateState: function( props ) {\n\t\tvar date = props.selectedDate || props.viewDate,\n\t\t\tformat = props.timeFormat,\n\t\t\tcounters = []\n\t\t\t;\n\n\t\tif ( format.toLowerCase().indexOf('h') !== -1 ) {\n\t\t\tcounters.push('hours');\n\t\t\tif ( format.indexOf('m') !== -1 ) {\n\t\t\t\tcounters.push('minutes');\n\t\t\t\tif ( format.indexOf('s') !== -1 ) {\n\t\t\t\t\tcounters.push('seconds');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar hours = date.format( 'H' );\n\n\t\tvar daypart = false;\n\t\tif ( this.state !== null && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\tif ( this.props.timeFormat.indexOf( ' A' ) !== -1 ) {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'PM' : 'AM';\n\t\t\t} else {\n\t\t\t\tdaypart = ( hours >= 12 ) ? 'pm' : 'am';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\thours: hours,\n\t\t\tminutes: date.format( 'mm' ),\n\t\t\tseconds: date.format( 'ss' ),\n\t\t\tmilliseconds: date.format( 'SSS' ),\n\t\t\tdaypart: daypart,\n\t\t\tcounters: counters\n\t\t};\n\t},\n\n\trenderCounter: function( type ) {\n\t\tif ( type !== 'daypart' ) {\n\t\t\tvar value = this.state[ type ];\n\t\t\tif ( type === 'hours' && this.props.timeFormat.toLowerCase().indexOf( ' a' ) !== -1 ) {\n\t\t\t\tvalue = ( value - 1 ) % 12 + 1;\n\n\t\t\t\tif ( value === 0 ) {\n\t\t\t\t\tvalue = 12;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn React.createElement('div', { key: type, className: 'rdtCounter' }, [\n\t\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'increase', type ), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\t\tReact.createElement('div', { key: 'c', className: 'rdtCount' }, value ),\n\t\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'decrease', type ), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t\t]);\n\t\t}\n\t\treturn '';\n\t},\n\n\trenderDayPart: function() {\n\t\treturn React.createElement('div', { key: 'dayPart', className: 'rdtCounter' }, [\n\t\t\tReact.createElement('span', { key: 'up', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▲' ),\n\t\t\tReact.createElement('div', { key: this.state.daypart, className: 'rdtCount' }, this.state.daypart ),\n\t\t\tReact.createElement('span', { key: 'do', className: 'rdtBtn', onMouseDown: this.onStartClicking( 'toggleDayPart', 'hours'), onContextMenu: this.disableContextMenu }, '▼' )\n\t\t]);\n\t},\n\n\trender: function() {\n\t\tvar me = this,\n\t\t\tcounters = []\n\t\t;\n\n\t\tthis.state.counters.forEach( function( c ) {\n\t\t\tif ( counters.length )\n\t\t\t\tcounters.push( React.createElement('div', { key: 'sep' + counters.length, className: 'rdtCounterSeparator' }, ':' ) );\n\t\t\tcounters.push( me.renderCounter( c ) );\n\t\t});\n\n\t\tif ( this.state.daypart !== false ) {\n\t\t\tcounters.push( me.renderDayPart() );\n\t\t}\n\n\t\tif ( this.state.counters.length === 3 && this.props.timeFormat.indexOf( 'S' ) !== -1 ) {\n\t\t\tcounters.push( React.createElement('div', { className: 'rdtCounterSeparator', key: 'sep5' }, ':' ) );\n\t\t\tcounters.push(\n\t\t\t\tReact.createElement('div', { className: 'rdtCounter rdtMilli', key: 'm' },\n\t\t\t\t\tReact.createElement('input', { value: this.state.milliseconds, type: 'text', onChange: this.updateMilli } )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\n\t\treturn React.createElement('div', { className: 'rdtTime' },\n\t\t\tReact.createElement('table', {}, [\n\t\t\t\tthis.renderHeader(),\n\t\t\t\tReact.createElement('tbody', { key: 'b'}, React.createElement('tr', {}, React.createElement('td', {},\n\t\t\t\t\tReact.createElement('div', { className: 'rdtCounters' }, counters )\n\t\t\t\t)))\n\t\t\t])\n\t\t);\n\t},\n\n\tcomponentWillMount: function() {\n\t\tvar me = this;\n\t\tme.timeConstraints = {\n\t\t\thours: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 23,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tminutes: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 59,\n\t\t\t\tstep: 1\n\t\t\t},\n\t\t\tmilliseconds: {\n\t\t\t\tmin: 0,\n\t\t\t\tmax: 999,\n\t\t\t\tstep: 1\n\t\t\t}\n\t\t};\n\t\t['hours', 'minutes', 'seconds', 'milliseconds'].forEach( function( type ) {\n\t\t\tassign(me.timeConstraints[ type ], me.props.timeConstraints[ type ]);\n\t\t});\n\t\tthis.setState( this.calculateState( this.props ) );\n\t},\n\n\tcomponentWillReceiveProps: function( nextProps ) {\n\t\tthis.setState( this.calculateState( nextProps ) );\n\t},\n\n\tupdateMilli: function( e ) {\n\t\tvar milli = parseInt( e.target.value, 10 );\n\t\tif ( milli === e.target.value && milli >= 0 && milli < 1000 ) {\n\t\t\tthis.props.setTime( 'milliseconds', milli );\n\t\t\tthis.setState( { milliseconds: milli } );\n\t\t}\n\t},\n\n\trenderHeader: function() {\n\t\tif ( !this.props.dateFormat )\n\t\t\treturn null;\n\n\t\tvar date = this.props.selectedDate || this.props.viewDate;\n\t\treturn React.createElement('thead', { key: 'h' }, React.createElement('tr', {},\n\t\t\tReact.createElement('th', { className: 'rdtSwitch', colSpan: 4, onClick: this.props.showView( 'days' ) }, date.format( this.props.dateFormat ) )\n\t\t));\n\t},\n\n\tonStartClicking: function( action, type ) {\n\t\tvar me = this;\n\n\t\treturn function() {\n\t\t\tvar update = {};\n\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\tme.setState( update );\n\n\t\t\tme.timer = setTimeout( function() {\n\t\t\t\tme.increaseTimer = setInterval( function() {\n\t\t\t\t\tupdate[ type ] = me[ action ]( type );\n\t\t\t\t\tme.setState( update );\n\t\t\t\t}, 70);\n\t\t\t}, 500);\n\n\t\t\tme.mouseUpListener = function() {\n\t\t\t\tclearTimeout( me.timer );\n\t\t\t\tclearInterval( me.increaseTimer );\n\t\t\t\tme.props.setTime( type, me.state[ type ] );\n\t\t\t\tdocument.body.removeEventListener( 'mouseup', me.mouseUpListener );\n\t\t\t\tdocument.body.removeEventListener( 'touchend', me.mouseUpListener );\n\t\t\t};\n\n\t\t\tdocument.body.addEventListener( 'mouseup', me.mouseUpListener );\n\t\t\tdocument.body.addEventListener( 'touchend', me.mouseUpListener );\n\t\t};\n\t},\n\n\tdisableContextMenu: function( event ) {\n\t\tevent.preventDefault();\n\t\treturn false;\n\t},\n\n\tpadValues: {\n\t\thours: 1,\n\t\tminutes: 2,\n\t\tseconds: 2,\n\t\tmilliseconds: 3\n\t},\n\n\ttoggleDayPart: function( type ) { // type is always 'hours'\n\t\tvar value = parseInt( this.state[ type ], 10) + 12;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tincrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) + this.timeConstraints[ type ].step;\n\t\tif ( value > this.timeConstraints[ type ].max )\n\t\t\tvalue = this.timeConstraints[ type ].min + ( value - ( this.timeConstraints[ type ].max + 1 ) );\n\t\treturn this.pad( type, value );\n\t},\n\n\tdecrease: function( type ) {\n\t\tvar value = parseInt( this.state[ type ], 10) - this.timeConstraints[ type ].step;\n\t\tif ( value < this.timeConstraints[ type ].min )\n\t\t\tvalue = this.timeConstraints[ type ].max + 1 - ( this.timeConstraints[ type ].min - value );\n\t\treturn this.pad( type, value );\n\t},\n\n\tpad: function( type, value ) {\n\t\tvar str = value + '';\n\t\twhile ( str.length < this.padValues[ type ] )\n\t\t\tstr = '0' + str;\n\t\treturn str;\n\t},\n});\n\nmodule.exports = DateTimePickerTime;\n"]},"metadata":{},"sourceType":"script"}